<html>
<head>
    <title>Example 29</title>

    <!-- Origin Trial Token, feature = WebVR (For Chrome M59+), origin = https://hazardu5.github.io, expires = 2017-06-28 -->
    <meta http-equiv="origin-trial" data-feature="WebVR (For Chrome M59+)" data-expires="2017-06-28" content="Ahx8Ww177dEDI39gZofw2EAg/ttuVUVwU+gMcmz+MsWVPhOpswY8beyZkJ683y01KLEgejjSP4aAPf1SR+L5UwcAAABUeyJvcmlnaW4iOiJodHRwczovL2hhemFyZHU1LmdpdGh1Yi5pbzo0NDMiLCJmZWF0dXJlIjoiV2ViVlIxLjEiLCJleHBpcnkiOjE0OTg3MDA2MjV9">

    <!-- Bootstrap Bootswatch theme CSS - other themes available here: https://bootswatch.com -->
    <link rel="stylesheet" href="https://cdn.rawgit.com/thomaspark/bootswatch/gh-pages/slate/bootstrap.min.css" />

    <!-- Bootstrap JS Dependencies -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- A-Frame JS Dependencies -->
    <script src="https://aframe.io/releases/0.6.1/aframe.js"></script>
    <!--<script src="https://cdn.rawgit.com/aframevr/aframe/6473242eda647705f7aac0da9ca134569d29c156/dist/aframe-master.min.js"></script>-->
    <script src="https://cdn.rawgit.com/wizgrav/aframe-effects/master/dist/aframe-effects.min.js"></script>
    <script src="https://cdn.rawgit.com/mayognaise/aframe-draw-shader/master/dist/aframe-draw-shader.min.js"></script>
    <script src="https://unpkg.com/aframe-html-shader@0.2.0/dist/aframe-html-shader.min.js"></script>
    <script src="https://cdn.rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script src="https://unpkg.com/@gladeye/aframe-preloader-component@1.0.2/dist/aframe-preloader-component.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.11.4/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-area-light-component/dist/aframe-area-light-component.min.js"></script>
    <script src="https://unpkg.com/super-hands@2.0.0/dist/super-hands.min.js"></script>
    <script src="https://unpkg.com/aframe-crawling-cursor@1.0.7/dist/aframe-crawling-cursor.js"></script>
    <script src="https://unpkg.com/aframe-lerp-component/dist/aframe-lerp-component.min.js"></script>

    <!-- jQuery Dependencies -->
    <script src="assets/js/jquery/simulate-keypress.js"></script>

    <!-- SoundCloud JS Dependencies -->
    <script src="https://w.soundcloud.com/player/api.js"></script>

    <!-- Emularity JS Dependencies -->
    <script src="assets/js/emularity/es6-promise.js"></script>
    <script src="assets/js/emularity/browserfs.min.js"></script>
    <script src="assets/js/emularity/loader.js"></script>

    <!-- Custom A-Frame JS Components -->
    <script src="assets/js/components/canvas-surface.js"></script>
    <script src="assets/js/components/auto-fall-respawn.js"></script>
    <script src="assets/js/components/wsad-controls-custom.js"></script>
    <script src="assets/js/main.js"></script>

    <style>

        body{
            background: #000000;
        }
        body > div#fullscreenContainer {
            position: absolute;
            height: 256px;
            width: 256px;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            background-color: rgb(0, 0, 0);
            display: block;
            z-index: -1;
        }

        body > div#fullscreenContainer > canvas#fullscreen.maximum {
            position: absolute;
            height: 256px;
            width: 256px;
            margin: 0;
            padding: 0;
        }

        #sc-widget{
            display: none;
        }
    </style>
</head>
<body>

<!--<a-scene physics>-->
<a-scene main preloader="autoClose:false; clickToClose: true; closeLabelText: Start; autoInject: false; target: #preloader-modal; labelText: Loading {0}% Complete" physics>
    <a-assets>
        <a-asset-item id="cabinet-model" src="assets/gltf/arcade_machine/scene.gltf"></a-asset-item>
        <a-asset-item id="table-model" src="assets/gltf/beer_table/scene.gltf"></a-asset-item>
        <img id="static-img" src="assets/img/static-downsized.gif" />
        <img id="cover" src="http://crossorigin.me/https://archive.org/services/img/internetarcade" crossorigin="anonymous" />
        <img id="arcade_flicky" src="http://crossorigin.me/https://archive.org/services/img/arcade_flicky" crossorigin="anonymous" />
        <img id="arcade_qbert" src="http://crossorigin.me/https://archive.org/services/img/arcade_qbert" crossorigin="anonymous" />
        <img id="arcade_marble" src="http://crossorigin.me/https://archive.org/services/img/arcade_marble" crossorigin="anonymous" />
        <img id="arcade_rtype2" src="http://crossorigin.me/https://archive.org/services/img/arcade_rtype2" crossorigin="anonymous" />
        <img id="arcade_altbeast" src="http://crossorigin.me/https://archive.org/services/img/arcade_altbeast" crossorigin="anonymous" />
        <img id="arcade_hellfire" src="http://crossorigin.me/https://archive.org/services/img/arcade_hellfire" crossorigin="anonymous" />
        <img id="arcade_imgfight" src="http://crossorigin.me/https://archive.org/services/img/arcade_imgfight" crossorigin="anonymous" />
        <img id="arcade_dyger" src="http://crossorigin.me/https://archive.org/services/img/arcade_dyger" crossorigin="anonymous" />
        <img id="arcade_rtype" src="http://crossorigin.me/https://archive.org/services/img/arcade_rtype" crossorigin="anonymous" />
        <img id="arcade_wb3" src="http://crossorigin.me/https://archive.org/services/img/arcade_wb3" crossorigin="anonymous" />
        <img id="arcade_wbml" src="http://crossorigin.me/https://archive.org/services/img/arcade_wbml" crossorigin="anonymous" />
        <img id="arcade_wboy" src="http://crossorigin.me/https://archive.org/services/img/arcade_wboy" crossorigin="anonymous" />

        <img id="dogecoin-img" src="assets/img/dogecoin.png" />

        <!-- note: for hovered state mixins to work the entity mixin applied to must be an entity, not a-cylinder, a-box etc -->
        <a-mixin id="token" grabbable hoverable material="color: #ffcc33; src: #dogecoin-img" geometry="primitive: cylinder; height:0.01;radius:0.05;"></a-mixin>
        <a-mixin id="token-hovered" material="color: #ffff00"></a-mixin>
        <a-mixin id="cube" geometry="primitive: box; width: 0.5; height: 0.5; depth: 0.5"
                 hoverable grabbable material="color: blue"></a-mixin>
        <a-mixin id="cube-hovered" material="color: green">
        </a-mixin>
        <a-mixin id="cube-dragover" material="wireframe: true;"></a-mixin>

    </a-assets>



    <!--<a-plane id="area-light2" area-light="width:0.1; height: 0.1; intensity: 0.8" width="0.500" height="0.400" position="-0.034 1.598 -4.063" rotation="-61.000 0 0" material="shader:gif;src:#static-img; emissive: #ffffff;"></a-plane>-->
    <a-plane id="screen" width="0.500" height="0.400" position="-0.034 1.583 -4.045" rotation="-61 0 0" canvas-surface material="shader:gif;src:#static-img" geometry="width:0.4"></a-plane>
    <!--<a-entity id="screen-light" area-light="intensity:0.2;width:0.38;height:0.4;showHelper:false" width="0.500" height="0.400" position="-0.22 1.588 -4.051" rotation="-61 0 0"></a-entity>-->

    <a-box id="coin-door" color="#FF0000" position="-0.027 0.936 -3.493" geometry="width:0.24;height:0.35;depth:0.04">
        <a-box id="coin-slot" color="#000000" position="-0.051 0 0.014" geometry="height:0.11;width:0.02;depth:0.02"></a-box>
        <a-box id="coin-button" color="#ffffff" position="0.039 0.003 0.033" geometry="height:0.09;depth:0.06;width:0.09"></a-box>
    </a-box>

    <a-box id="cabinet-collider" static-body position="-0.041 1.086 -3.939" geometry="depth:0.92;height:2.17;width:0.77" material="opacity:0">
        <a-entity id="cabinet" class="ignore-ray" gltf-model-next="#cabinet-model" rotation="0 180 0" position="0.038 0.334 0.139">
            <a-image id="marquee" src="#arcade_marble" width="0.61" height="0.16" position="0.04 0.613 -0.097" rotation="0 180 0" material=""></a-image>
        </a-entity>
    </a-box>

    <a-light id="spotlight1" type="spot" position="0 3.821 -1.234" rotation="-90.01166961505233 180.02333923010465 180.02333923010465" light="penumbra:0.07;intensity:0.31;angle:41.89;shadowCameraVisible:false"></a-light>

    <a-entity id="table" class="ignore-ray" gltf-model-next="#table-model" position="1.391 1.01 -2.663" rotation="0 46.753 0">
        <a-box id="table-collider" static-body="sphereRadius:NaN" position="0.017 0.144 -0.012" rotation="-0.34377467707849396 6.18794418741289 0.6875493541569879" material="opacity: 0" geometry="height:0.09000000000000005;width:2.3899999999999997;depth:0.78"></a-box>
    </a-entity>

    <a-entity id="test-token" mixin="token" position="0.9442310971683285 1.1923137777287387 -1.652685232190645" dynamic-body auto-fall-respawn="fallHeight: -10; respawnPosition: 1.389 2 -2.922; respawnRotation: 0 0 0"></a-entity>
    <a-entity id="test-token2" mixin="token" position="0.767 1.192 -1.893" dynamic-body auto-fall-respawn="fallHeight: -10; respawnPosition: 1.389 2 -2.922; respawnRotation: 0 0 0"></a-entity>
    <a-entity id="test-token3" mixin="token" position="0.8288902628227308 1.191118910112886 -1.6998713936634506" dynamic-body auto-fall-respawn="fallHeight: -10; respawnPosition: 1.389 2 -2.922; respawnRotation: 0 0 0"></a-entity>
    <a-entity id="test-token4" mixin="token" position="0.6920398978422299 1.1914564043956597 -2.031535811221873" dynamic-body auto-fall-respawn="fallHeight: -10; respawnPosition: 1.389 2 -2.922; respawnRotation: 0 0 0"></a-entity>
    <a-entity id="test-token5" mixin="token" position="0.9644002374420383 1.1938130720076723 -1.880876278893093" dynamic-body auto-fall-respawn="fallHeight: -10; respawnPosition: 1.389 2 -2.922; respawnRotation: 0 0 0"></a-entity>
    <!--<a-entity id="floor-light1" area-light="width:0.89;height:0.1; intensity: 0.1" position="0.347 0.105 -3.494" rotation="0 90 0"></a-entity>
    <a-entity id="floor-light2" area-light="width:0.89;height:0.1; intensity: 0.1" position="-0.434 0.105 -4.382" rotation="0 -90 0"></a-entity>-->

    <a-entity id="cube" mixin="cube" position="1.316 1 0" dynamic-body auto-fall-respawn="fallHeight: -10; respawnPosition: 1.316 1 0; respawnRotation: 0 0 0"></a-entity>


    <a-light id="ambient-light" type="ambient" intensity="0.3"></a-light>

    <a-plane id="floor" static-body position="0 0 -4" rotation="-90 0 0" width="10" height="10" color="#FF0000"></a-plane>
    <a-sky color="#000000"></a-sky>


    <a-entity progressive-controls="objects:#table-collider,[grabbable],#cabinet-collider,#floor,#coin-door,#coin-slot,#coin-button;">
        <a-ring id="my-cursor" radius-inner="0.05" radius-outer="0.1" sphere-collider="objects:#table-collider,[grabbable],#cabinet-collider,#floor,#coin-door,#coin-slot,#coin-button; watch: true; radius: 0.1" lerp="properties: position, rotation" super-hands static-body="shape: sphere; sphereRadius: 0.02;"></a-ring>
        <a-entity id="camera" camera="userHeight: 1.6" raycaster universal-controls="rotationControls: mouse; movementControls: touch" wsad-controls-custom crawling-cursor="target: #my-cursor"></a-entity>
    </a-entity>

</a-scene>

<div id="preloader-modal" class="modal instructions-modal" tabindex="-1" role="dialog" style="display: none;">
    <div class="modal-dialog" role="document">

        <div class="modal-content text-center">
            <div class="modal-header">
                <h1>Arcade Cabinet Demo</h1>
            </div>
            <div class="col-md-12">
                <div class="row">
                    <div class="col-sm-6">
                        <strong>Scene Controls</strong>
                        <ul class="list-group">
                            <li class="list-group-item">Movement<span class="badge">W</span><span class="badge">S</span><span class="badge">A</span><span class="badge">D</span></li>
                            <li class="list-group-item">Look<span class="badge">Mouse move</span></li>
                            <li class="list-group-item">Pick up / release object <span class="badge">Left click</span></li>
                        </ul>
                    </div>
                    <div class="col-sm-6">
                        <strong>Arcade Controls</strong>
                        <ul class="list-group">
                            <li class="list-group-item">Movement<span class="badge"><i class="glyphicon glyphicon-chevron-up"></i></span><span class="badge"><i class="glyphicon glyphicon-chevron-down"></i></span><span class="badge"><i class="glyphicon glyphicon-chevron-left"></i></span><span class="badge"><i class="glyphicon glyphicon-chevron-right"></i></span></li>
                            <li class="list-group-item">Pause<span class="badge">P</span></li>
                            <li class="list-group-item">Insert Coin<span class="badge">5</span></li>
                            <li class="list-group-item">Start<span class="badge">1</span></li>
                            <li class="list-group-item">Button 1<span class="badge">CTRL</span></li>
                            <li class="list-group-item">Button 2<span class="badge">ALT</span></li>
                            <li class="list-group-item">Button 3<span class="badge">SPACE</span></li>
                            <li class="list-group-item">Button 4<span class="badge">L-SHIFT</span></li>
                            <li class="list-group-item">Button 5<span class="badge">Z</span></li>
                            <li class="list-group-item">Button 6<span class="badge">X</span></li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <i class="preloader-modal__ok fa fa-check fa-5x text-success" aria-hidden="true"></i>
                        <i class="preloader-modal__spinner fa fa-cog fa-spin fa-5x fa-fw text-muted" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <span class="progress-label">Loading 0%</span>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-default btn-lg clearfix" data-dismiss="modal">Start</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div id="fullscreenContainer">
    <canvas id="fullscreen" class="maximum"></canvas>
</div>

<!--<iframe id="sc-widget" width="100%" height="450" scrolling="no" frameborder="no"></iframe>-->
<audio id="radio" src="https://streaming.radionomy.com/DRIVE?lang=en-US%2cen%3bq%3d0.8" autoplay crossorigin="anonymous"></audio>
</body>

</html>