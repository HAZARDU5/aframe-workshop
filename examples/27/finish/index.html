<html>
<head>
    <title>Example 27</title>
    <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script><!-- lerp component has a bug with v0.6. Fixed in v0.6.1 -->
    <!--<script src="https://cdn.rawgit.com/aframevr/aframe/89d1de0782a06a06f022c464cb1c1a31ec18b9ee/dist/aframe-master.min.js"></script>-->
    <!--<script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>-->
    <script src="https://cdn.rawgit.com/tizzle/aframe-orbit-controls-component/f77b2e7d14e6cc0353fcc7103fadd1f94853d61a/dist/aframe-orbit-controls-component.min.js"></script>
    <script src="https://unpkg.com/aframe-gradient-sky@1.0.4/dist/gradientsky.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.5.1/dist/aframe-look-at-component.min.js"></script>
    <script src="https://cdn.rawgit.com/mayognaise/aframe-mouse-cursor-component/29ebf42b0d7eedfd35813a58f9ae01de3c408c01/dist/aframe-mouse-cursor-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <script src="https://cdn.rawgit.com/wizgrav/aframe-effects/afae166558bc28c712d2510cbc28a2f3e72243d5/dist/aframe-effects.min.js"></script>
    <script src="https://cdn.rawgit.com/ngokevin/kframe/b1fe321aaa90ece7cae5bc9efc35a35573bd3364/components/look-at/dist/aframe-look-at-component.js"></script>
    <script src="https://unpkg.com/aframe-lerp-component/dist/aframe-lerp-component.min.js"></script>
    <script src="assets/js/components/look-controls-entity-rotator/vendor/Smooth-0.1.7.js"></script>
    <script src="assets/js/components/look-controls-entity-rotator/look-controls-entity-rotator.js?v=0.1"></script>
    <script src="assets/js/main.js"></script>
</head>

<body>
<!-- documentation for colors effect here: https://github.com/wizgrav/aframe-effects/tree/master/components/colors -->
<!--<a-scene effects="bloom, film, colors" bloom="radius: 0.66" film="speed:0.5; nIntensity:1; sIntensity:0.5; sCount: 512" colors="mode:hqprtom; mul: 0.66 0.5 0.66; pow: 1 1.33 1.66; quant: 0.3 0.3 0.1; orig: 0.33 0.66 0.66" main vr-mode-ui="enabled: false">-->
<a-scene debug effects="bloom, film" bloom="radius: 0.66" film="speed:0.01; nIntensity:1; sIntensity:0.95; sCount: 1024" main>
    <!--<a-scene main>-->


    <a-assets>
        <a-asset-item id="foetus-obj" src="assets/obj/foetus/foetus.obj"></a-asset-item>
        <a-asset-item id="foetus-mtl" src="assets/obj/foetus/foetus.mtl"></a-asset-item>
        <a-asset-item id="foetus-lq-obj" src="assets/obj/foetus-lq/foetus-lq.obj"></a-asset-item>
        <a-asset-item id="foetus-lq-mtl" src="assets/obj/foetus-lq/foetus-lq.mtl"></a-asset-item>
        <audio id="heartbeat-sound" src="assets/ogg/heartbeat.ogg"></audio><!-- audio from https://archive.org/details/BabysHeartbeatAt11Weeks -->
    </a-assets>

    <!-- TODO: add logic that activates when look-controls are present on the camera to rotate the orbit-controls target when the users head is rotates past a certain point on the left and right of model -->

    <a-camera
            id="camera"
            camera
            mouse-cursor
            position="0 0 0.5"
            orbit-controls="
                autoRotate: true;
                autoRotateSpeed:0.05;
                target: #model;
                enableDamping: true;
                dampingFactor: 0.125;
                rotateSpeed:0.05;
                minDistance:2;
                maxDistance:4;
                minZoom:4;
                maxZoom:0;
                enableKeys: false;
                enablePan:true;
                autoVRLookCam: true;
                logPosition:false;">

    </a-camera>

        <!-- Red directional light shining from the top left. -->
        <a-light light="type: directional; castShadow: false; color: #fff; intensity: 1.5; shadowCameraVisible: false; shadowMapHeight: 2048; shadowMapWidth: 2048;" position="-1 1 0"></a-light>
        <!-- Blue point light, 5 meters in the air. -->
        <a-light light="type: directional; castShadow: false; color: #fff; intensity: 0.3; shadowCameraVisible: false; shadowMapHeight: 512; shadowMapWidth: 512;" position="0 5 0"></a-light>



        <!-- Dim ambient lighting. -->
    <a-light light="type:ambient; color: #fff; intensity: 0.1;" color=""></a-light>

    <!-- TODO: adapt this THREE.js demo for A-Frame: https://threejs.org/examples/webgl_materials_skin.html -->
    <!-- TODO: implement PBR to make model look similar to this: https://www.cgtrader.com/3d-models/character/anatomy/human-baby-fetus -->
    <a-entity id="model" material="color: #616161; roughness: 0.320; metalness: 0" shadow="receive: true" sound="src: #heartbeat-sound; autoplay: true; loop: true;" obj-model="obj: #foetus-obj;"></a-entity>
    <!--<a-sphere id="model" shadow="receive: true" radius="1.25" segments-height="72" segments-width="144" material-skin="effectRTSize: 16; color: #616161; specular: #555555; src: url(assets/obj/skin/skin.jpg); normalSrc: url(assets/obj/skin/skin-normal.png);" scale="1 1 1"></a-sphere>-->


    <a-entity id="particles" position="0 0 0" particle-system="preset: dust; type: 1; maxParticleCount: 256; texture: assets/img/smokeparticle.png; color: #3c3c3c,#1f1f1f"></a-entity>


    <a-entity id="sky" shadow="receive: false" geometry="primitive: sphere; radius: 5000" material="shader: gradient; topColor: 30 30 30; bottomColor: 0 0 0" scale="-1 1 1"></a-entity>


</a-scene>

</body>
</html>