<html>
<head>
    <title>Example 27</title>
    <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/tizzle/aframe-orbit-controls-component/f77b2e7d14e6cc0353fcc7103fadd1f94853d61a/dist/aframe-orbit-controls-component.min.js"></script>
    <script src="https://unpkg.com/aframe-gradient-sky@1.0.4/dist/gradientsky.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.5.1/dist/aframe-look-at-component.min.js"></script>
    <script src="https://cdn.rawgit.com/mayognaise/aframe-mouse-cursor-component/29ebf42b0d7eedfd35813a58f9ae01de3c408c01/dist/aframe-mouse-cursor-component.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <script src="https://cdn.rawgit.com/wizgrav/aframe-effects/afae166558bc28c712d2510cbc28a2f3e72243d5/dist/aframe-effects.min.js"></script>
    <script src="assets/js/components/advanced-texture.js"></script>
    <script src="assets/js/components/auto-scale.js"></script>
    <script src="assets/js/main.js"></script>
</head>

<body>
<!-- documentation for colors effect here: https://github.com/wizgrav/aframe-effects/tree/master/components/colors -->
<!--<a-scene effects="bloom, film, colors" bloom="radius: 0.66" film="speed:0.5; nIntensity:1; sIntensity:0.5; sCount: 512" colors="mode:hqprtom; mul: 0.66 0.5 0.66; pow: 1 1.33 1.66; quant: 0.3 0.3 0.1; orig: 0.33 0.66 0.66" main vr-mode-ui="enabled: false">-->
<a-scene effects="bloom, film" bloom="radius: 0.66" film="speed:0.5; nIntensity:1; sIntensity:0.5; sCount: 1024" main vr-mode-ui="enabled: false">


    <a-assets>
        <a-asset-item id="foetus-obj" src="assets/obj/foetus/foetus.obj"></a-asset-item>
        <a-asset-item id="foetus-mtl" src="assets/obj/foetus/foetus.mtl"></a-asset-item>
        <audio id="heartbeat-sound" src="assets/ogg/heartbeat.ogg"></audio><!-- audio from https://archive.org/details/BabysHeartbeatAt11Weeks -->
    </a-assets>

    <a-camera
            id="camera"
            camera
            mouse-cursor
            position="0 1.5 0.5"
            orbit-controls="
                autoRotate: true;
                autoRotateSpeed:0.05;
                target: #model;
                enableDamping: true;
                dampingFactor: 0.125;
                rotateSpeed:0.05;
                minDistance:2;
                maxDistance:4;
                minZoom:4;
                maxZoom:0;
                enableKeys: false;
                enablePan:true;
                logPosition:false;">
        <!-- Red directional light shining from the top left. -->
        <a-light light="type: directional; castShadow: true; color: #fff; intensity: 0.8; shadowCameraVisible: false; shadowMapHeight: 2048; shadowMapWidth: 2048;" position="-1 1 0"></a-light>
        <!-- Blue point light, 5 meters in the air. -->
        <a-light light="type: point; castShadow: true; color: #fff; intensity: 0.3; shadowCameraVisible: false; shadowMapHeight: 512; shadowMapWidth: 512;" position="0 5 0"></a-light>

    </a-camera>


    <!-- Dim ambient lighting. -->
    <a-light light="type:ambient; color: #fff; intensity: 0.1;" color=""></a-light>

    <!-- TODO: adapt this THREE.js demo for A-Frame: https://threejs.org/examples/webgl_materials_skin.html -->
    <!-- TODO: implement PBR to make model look similar to this: https://www.cgtrader.com/3d-models/character/anatomy/human-baby-fetus -->
    <a-entity id="model" material="color: #616161; roughness: 0.320; metalness: 0" shadow="receive: true" sound="src: #heartbeat-sound; autoplay: true; loop: true;" obj-model="obj: #foetus-obj;"></a-entity>

    <a-entity id="particles" position="0 0 0" particle-system="preset: dust; type: 1; maxParticleCount: 64; texture: assets/img/smokeparticle.png; color: #3c3c3c,#1f1f1f"></a-entity>


    <a-entity id="sky" shadow="receive: false" geometry="primitive: sphere; radius: 5000" material="shader: gradient; topColor: 30 30 30; bottomColor: 0 0 0" scale="-1 1 1"></a-entity>


</a-scene>

</body>
</html>