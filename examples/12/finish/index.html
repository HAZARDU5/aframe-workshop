<html>
<head>
    <title>Example 12</title>
    <script src="https://aframe.io/releases/0.5.0/aframe.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@^3.2.0/dist/aframe-animation-component.min.js"></script>

    <script src="assets/js/lib/three/examples/loaders/collada/Animation.js"></script>
    <script src="assets/js/lib/three/examples/loaders/collada/AnimationHandler.js"></script>
    <script src="assets/js/lib/three/examples/loaders/collada/KeyFrameAnimation.js"></script>

    <script src="assets/js/components/collada-animation-mixer.js"></script>

    <script src="assets/js/loaders/drc-model.js"></script>
    <script src="assets/js/components/smooth-shaded.js"></script>
</head>
<body>
<a-scene>

    <a-assets>
        <img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
        <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg">
        <a-asset-item id="model" src="assets/dae/lizzy/walking.dae"></a-asset-item>
    </a-assets>

    <!-- convert models to low-poly in Blender using Decimate modifier "Planar, 20-90deg angle limit, "all boundaries" checked and delimit along UVs to preserve textures. Apply modifier. -->
    <!-- rotate and flip object so it is facing X- forward and Y up with the feet at 0,0,0 and the model centred along the person's spine -->
    <!--  In blender go Edit Mode -> Mesh -> Cleanup -> Delete loose to remove any un-needed geometry -->
    <!-- switch to edit mode and go to Mesh -> Faces -> Shade Smooth ->


    <!-- save models as OBJ with the following settings:
        Forward: -X Forward,
        Up: Y Up,
        Selection Only: 0,
        Animation: 0,
        Apply Modifiers: 1,
        Include Edges: 1,
        Smooth Groups: 1,
        Bitflag Smooth Groups: 0,
        Write Normals: 1,
        Include UVs: 1,
        Write Materials: 1,
        Triangulate Faces: 1,
        Write Nurbs: 0,
        Polygroups: 0,
        Objects as OBJ objects: 1,
        Objects as OBJ groups: 0,
        Material Groups: 0,
        Keep Vertex Order: 0
    -->

    <!--

    MIXAMO TIPS:


    Character should be upright, facing forward, centered in the scene with the pivot point between their feet at 0,0,0.
We only accept meshes and bones.  No NURBS, Splines, cameras, etc.
Is the geometry clean?  Floating verts, ngons, etc might mess it up.
There can be no gaps between meshes, so floating hands/heads will break it.
The auto-rigger works best with 1-5 meshes.  If you have a character made of 50+ objects it might not work.  Combine your meshes.
The auto-rigger doesn't always accept multi/sub-object materials.  If possible bake your textures down and use one material per mesh.
A jacket on top of a shirt on top of a body might have issues, you should remove occluded polygons.
Polycount should be 200,000 tris~ on average. It goes higher or lower depending on the number of meshes in the scene but 200k is a good average.
Are the textures in .jpg/.png/.tga/.gif form? We don't accept .dds, .psd or other formats.

    -->

    <a-entity position="0 0 -2">
        <a-entity id="lizzy" scale="90 90 90" rotation="0 0 0" position="0 0.05 0"
                  collada-animation-mixer="autoplay: true; loop: true;"
                  collada-model="#model"
                >
        </a-entity>

    </a-entity>



    <a-cylinder id="ground" src="#groundTexture" radius="30" height="0.1"></a-cylinder>

    <a-sky id="background" src="#skyTexture" theta-length="90" radius="30"></a-sky>
</a-scene>
</body>
</html>